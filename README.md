# 今日头条自动发布工具

这是一个基于Selenium的自动化工具，用于自动登录今日头条并发布草稿文章。

## 功能特性

- 自动登录今日头条后台
- 支持无头模式运行
- 自动处理草稿发布流程
- 随机间隔发布，模拟人工操作
- 支持代理设置
- 自动处理地理位置权限

## 环境要求

- Python 3.6+
- Chrome浏览器
- ChromeDriver
- Selenium库

## 安装步骤

1. 安装Python 3.6或更高版本
2. 安装依赖库：
   ```bash
   pip install selenium
   ```
3. 下载与Chrome版本匹配的ChromeDriver
4. 将ChromeDriver添加到系统PATH

## 使用方法

1. 修改autoPublish.py中的账号信息：
   ```python
   self.username = "your_username"  # 今日头条账号
   self.password = "your_password"  # 今日头条密码
   ```

2. 运行脚本：
   ```bash
   python autoPublish.py
   ```

3. 程序会自动：
   - 登录今日头条后台
   - 进入草稿箱
   - 逐个发布草稿
   - 随机间隔3-10分钟发布一篇

## 注意事项

- 请勿在代码中明文存储账号信息，建议使用环境变量
- 确保ChromeDriver版本与Chrome浏览器匹配
- 发布间隔时间可自行调整
- 如需使用代理，请取消注释相关代码

## 贡献

欢迎提交Pull Request改进本项目

## 许可证

MIT License


## 题外话

1. 重构代码为更易测试的代码Prompt
明白了，您是需要一个针对 **Go语言重构代码以便于测试** 的 **prompt 提示词**，以下是一个针对这种任务的示例 **prompt**：

---

**Prompt:**

> 请帮我将以下 Go 语言代码进行重构，使其更容易进行单元测试。重构时需要遵循以下原则：
>
> 1. **依赖注入**：将外部依赖（如数据库连接、外部服务调用等）注入到函数或结构体中，而不是在函数内部创建。这样可以在单元测试中替换这些依赖为模拟（mock）对象。
> 
> 2. **单一职责原则**：确保每个函数或方法都只做一件事。将复杂的函数拆分成更小的、易于测试的部分。
>
> 3. **抽象外部依赖**：对于像数据库连接、HTTP 请求等外部依赖，使用接口抽象它们，使得我们能够轻松使用模拟（mock）对象进行测试。
> 
> 4. **更清晰的错误处理**：避免直接调用 `log.Fatal()` 等阻塞程序的错误处理方式，改为返回错误供调用者处理。
> 
> 5. **可配置的依赖**：将配置（如数据库连接参数、API 密钥等）从代码中提取出来，使得它们可以在运行时或测试时轻松配置。
> 
> 请根据上述要求修改以下代码，并保证重构后的代码仍然可以执行相同的功能，同时可以通过注入模拟对象进行单元测试。

---

这个 **prompt** 的目的是帮助您明确地描述您希望在重构过程中达到的目标，并且提出了一些关键的设计原则（如依赖注入、单一职责原则等）来指导重构过程。

